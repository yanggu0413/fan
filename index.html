<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>電風扇</title>
    <style>
        body {
            font-family: 'Helvetica', sans-serif;
            text-align: center;
        }
        .button {
            font-size: 14px;
            margin: 5px;
        }
        .fan-image {
            width: 200px;
            height: auto;
            margin-top: 20px;
        }
        .donate-image {
            width: 200px;
            cursor: pointer;
            margin: 10px;
        }
    </style>
    <script>
        let temperature = 25;
        let fanSpeed = "低速";
        let fanStatus = "正常";

        function updateTemperature() {
            const tempInput = document.getElementById("temperatureInput").value;
            const newTemperature = parseInt(tempInput);
            if (!isNaN(newTemperature) && newTemperature >= 0) {
                temperature = newTemperature;
                checkFanStatus();
                adjustFanSpeed();
                showStatusMessage();
            }
        }

        function checkFanStatus() {
            if (temperature > 100 || temperature < 0) {
                fanStatus = "已損壞";
            } else {
                fanStatus = "正常";
            }
        }

        function adjustFanSpeed() {
            if (temperature >= 40) {
                fanSpeed = "高速";
            } else if (temperature >= 25) {
                fanSpeed = "中速";
            } else if (temperature >= 20) {
                fanSpeed = "低速";
            } else {
                fanSpeed = "超低速";
            }
        }

        function showStatusMessage() {
            let message = "";
            if (temperature < 0) {
                message = "電風扇凍壞了，無法恢復（好啦其實可以啦）";
            } else if (temperature < 20) {
                message = "您的溫度快把電風扇凍壞了，電風扇以超低速運轉(拜託升高溫度)";
            } else if (temperature < 40) {
                message = "您的溫度剛剛好，電風扇很開心";
            } else if (temperature < 70) {
                message = "您的溫度太高了，電風扇以高速運轉";
            } else if (temperature <= 100) {
                message = "您的溫度太高了，電風扇會燒壞的";
            } else {
                message = "電風扇燒壞了，無法恢復（好啦其實可以啦）";
            }
            alert(`電風扇狀態：${fanStatus}\n電風扇風速：${fanSpeed}\n\n${message}`);
        }

        function showAbout() {
            alert("你的電風扇壞了嗎?\n你的電風扇怪怪的......\n作者:邱苡宬");
        }

        function showStory() {
            alert("敬請期待");
        }

        function showDonateOptions() {
            const donateOptions = `
                <div>
                    <h3>不要抖內我</h3>
                </div>
            `;
            const newWindow = window.open("", "斗內", "width=300,height=300");
            newWindow.document.write(donateOptions);
        }
    </script>
</head>
<body>
    <h1>電風扇</h1>
    <img src="https://github.com/yanggu0413/fan/blob/main/fanimg.jpg?raw=true" alt="Fan Image" class="fan-image">
    <div>
        <label for="temperatureInput" style="font-size: 14px;">輸入溫度(攝氏)：</label>
        <input type="number" id="temperatureInput" value="25" style="font-size: 14px;">
        <button onclick="updateTemperature()" class="button">確定</button>
    </div>
    <br>
    <nav>
        <button onclick="showDonateOptions()" class="button">斗內我</button>
        <button onclick="showAbout()" class="button">關於</button>
        <button onclick="showStory()" class="button">故事</button>
        <button onclick="window.close()" class="button">離開</button>
    </nav>
</body>
</html>
